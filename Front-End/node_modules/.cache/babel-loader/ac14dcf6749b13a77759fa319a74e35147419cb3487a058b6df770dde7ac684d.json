{"ast":null,"code":"var _jsxFileName = \"C:\\\\Rang Rez\\\\rang-rez-app\\\\src\\\\components\\\\CreateVideo.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { createFFmpeg, fetchFile } from '@ffmpeg/ffmpeg';\nimport FileBase64 from 'react-file-base64';\nimport './CreateVideo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ffmpeg = createFFmpeg({\n  log: true\n});\nfunction CreateVideo() {\n  _s();\n  const [videoFile, setVideoFile] = useState(null);\n  const [images, setImages] = useState([]);\n  const [userName, setUserName] = useState('');\n  const [specialNote, setSpecialNote] = useState('');\n  const [processedVideo, setProcessedVideo] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const handleProcessVideo = async () => {\n    setIsProcessing(true);\n    await ffmpeg.load();\n\n    // Load the video and images\n    ffmpeg.FS('writeFile', 'input.mp4', await fetchFile(videoFile));\n    images.forEach((img, index) => {\n      ffmpeg.FS('writeFile', `image${index}.png`, img);\n    });\n\n    // Apply overlay text and images\n    await ffmpeg.run('-i', 'input.mp4', '-vf', `drawtext=text='${userName}':x=10:y=10:fontsize=24:fontcolor=white,drawtext=text='${specialNote}':x=10:y=50:fontsize=24:fontcolor=white`, '-t', '16', '-c:v', 'libx264', '-crf', '23', '-preset', 'veryfast', 'output.mp4');\n    const data = ffmpeg.FS('readFile', 'output.mp4');\n    const url = URL.createObjectURL(new Blob([data.buffer], {\n      type: 'video/mp4'\n    }));\n    setProcessedVideo(url);\n    setIsProcessing(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-video\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create Your Video\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FileBase64, {\n      multiple: false,\n      onDone: ({\n        base64\n      }) => setVideoFile(base64),\n      accept: \"video/*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FileBase64, {\n      multiple: true,\n      onDone: ({\n        base64\n      }) => setImages(base64),\n      accept: \"image/*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: userName,\n      onChange: e => setUserName(e.target.value),\n      placeholder: \"Enter the name of the birthday person\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: specialNote,\n      onChange: e => setSpecialNote(e.target.value),\n      placeholder: \"Enter a special note\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleProcessVideo,\n      disabled: isProcessing,\n      children: isProcessing ? 'Processing...' : 'Process Video'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), processedVideo && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Preview Your Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        controls: true,\n        src: processedVideo,\n        width: \"640\",\n        height: \"360\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: processedVideo,\n        download: \"processed-video.mp4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Download Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateVideo, \"eQuHW87xqo4jRCOIsCgJWgohZZE=\");\n_c = CreateVideo;\nexport default CreateVideo;\nvar _c;\n$RefreshReg$(_c, \"CreateVideo\");","map":{"version":3,"names":["React","useState","createFFmpeg","fetchFile","FileBase64","jsxDEV","_jsxDEV","ffmpeg","log","CreateVideo","_s","videoFile","setVideoFile","images","setImages","userName","setUserName","specialNote","setSpecialNote","processedVideo","setProcessedVideo","isProcessing","setIsProcessing","handleProcessVideo","load","FS","forEach","img","index","run","data","url","URL","createObjectURL","Blob","buffer","type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","multiple","onDone","base64","accept","value","onChange","e","target","placeholder","onClick","disabled","controls","src","width","height","href","download","_c","$RefreshReg$"],"sources":["C:/Rang Rez/rang-rez-app/src/components/CreateVideo.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { createFFmpeg, fetchFile } from '@ffmpeg/ffmpeg';\r\nimport FileBase64 from 'react-file-base64';\r\nimport './CreateVideo.css';\r\n\r\nconst ffmpeg = createFFmpeg({ log: true });\r\n\r\nfunction CreateVideo() {\r\n  const [videoFile, setVideoFile] = useState(null);\r\n  const [images, setImages] = useState([]);\r\n  const [userName, setUserName] = useState('');\r\n  const [specialNote, setSpecialNote] = useState('');\r\n  const [processedVideo, setProcessedVideo] = useState('');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n  const handleProcessVideo = async () => {\r\n    setIsProcessing(true);\r\n    await ffmpeg.load();\r\n\r\n    // Load the video and images\r\n    ffmpeg.FS('writeFile', 'input.mp4', await fetchFile(videoFile));\r\n    images.forEach((img, index) => {\r\n      ffmpeg.FS('writeFile', `image${index}.png`, img);\r\n    });\r\n\r\n    // Apply overlay text and images\r\n    await ffmpeg.run(\r\n      '-i', 'input.mp4',\r\n      '-vf', `drawtext=text='${userName}':x=10:y=10:fontsize=24:fontcolor=white,drawtext=text='${specialNote}':x=10:y=50:fontsize=24:fontcolor=white`,\r\n      '-t', '16',\r\n      '-c:v', 'libx264',\r\n      '-crf', '23',\r\n      '-preset', 'veryfast',\r\n      'output.mp4'\r\n    );\r\n\r\n    const data = ffmpeg.FS('readFile', 'output.mp4');\r\n    const url = URL.createObjectURL(new Blob([data.buffer], { type: 'video/mp4' }));\r\n    setProcessedVideo(url);\r\n    setIsProcessing(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-video\">\r\n      <h2>Create Your Video</h2>\r\n      <FileBase64\r\n        multiple={false}\r\n        onDone={({ base64 }) => setVideoFile(base64)}\r\n        accept=\"video/*\"\r\n      />\r\n      <FileBase64\r\n        multiple={true}\r\n        onDone={({ base64 }) => setImages(base64)}\r\n        accept=\"image/*\"\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        value={userName}\r\n        onChange={(e) => setUserName(e.target.value)}\r\n        placeholder=\"Enter the name of the birthday person\"\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        value={specialNote}\r\n        onChange={(e) => setSpecialNote(e.target.value)}\r\n        placeholder=\"Enter a special note\"\r\n      />\r\n      <button onClick={handleProcessVideo} disabled={isProcessing}>\r\n        {isProcessing ? 'Processing...' : 'Process Video'}\r\n      </button>\r\n      {processedVideo && (\r\n        <div>\r\n          <h3>Preview Your Video</h3>\r\n          <video controls src={processedVideo} width=\"640\" height=\"360\"></video>\r\n          <a href={processedVideo} download=\"processed-video.mp4\">\r\n            <button>Download Video</button>\r\n          </a>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateVideo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}